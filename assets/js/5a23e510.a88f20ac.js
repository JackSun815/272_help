"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9413],{7924:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var r=n(4848),o=n(8453);const s={sidebar_position:4},i="Testing",a={id:"tutorial-extras/controller-in-ruby",title:"Testing",description:"Testing is an integral part of the Rails framework, designed to ensure that your application performs correctly under specified conditions and continues to do so as changes are made.",source:"@site/docs/tutorial-extras/controller-in-ruby.md",sourceDirName:"tutorial-extras",slug:"/tutorial-extras/controller-in-ruby",permalink:"/272_help/docs/tutorial-extras/controller-in-ruby",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Views in Ruby",permalink:"/272_help/docs/tutorial-extras/views-in-ruby"},next:{title:"APIs",permalink:"/272_help/docs/tutorial-extras/api"}},c={},l=[{value:"Factories",id:"factories",level:2},{value:"FactoryBot Setup",id:"factorybot-setup",level:3},{value:"FactoryBot Usage",id:"factorybot-usage",level:3},{value:"Sets",id:"sets",level:2},{value:"Contexts",id:"contexts",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"testing",children:"Testing"}),"\n",(0,r.jsx)(t.p,{children:"Testing is an integral part of the Rails framework, designed to ensure that your application performs correctly under specified conditions and continues to do so as changes are made."}),"\n",(0,r.jsx)(t.h2,{id:"factories",children:"Factories"}),"\n",(0,r.jsx)(t.p,{children:"Factories are used in Rails to generate test data dynamically. They are particularly useful in maintaining clean test code and avoiding duplication. Factories can be defined using gems like FactoryBot, which allow you to set up and use objects in tests efficiently."}),"\n",(0,r.jsx)(t.h3,{id:"factorybot-setup",children:"FactoryBot Setup"}),"\n",(0,r.jsx)(t.p,{children:"Factories allow you to define a blueprint for how objects should be created. You can define default values and ensure that your test objects are built with all necessary attributes filled in. For example, the following sets the default values for an officer:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:'FactoryBot.define do\r\n  factory :officer do\r\n    first_name { "John" }\r\n    last_name  { "Doe" }\r\n    rank       { "Detective" }\r\n    active     { true }\r\n    ssn        { "123-45-6789" }\r\n    unit\r\n  end\r\nend\n'})}),"\n",(0,r.jsx)(t.h3,{id:"factorybot-usage",children:"FactoryBot Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:'test "should create officer" do\r\n  officer = FactoryBot.create(:officer)\r\n  assert officer.valid?\r\nend\n'})}),"\n",(0,r.jsx)(t.h2,{id:"sets",children:"Sets"}),"\n",(0,r.jsx)(t.p,{children:'In testing, particularly in Rails, the term "sets" refers to creating groups or collections of objects that can be used to test various functionalities in bulk or under different conditions.'}),"\n",(0,r.jsx)(t.p,{children:"Using sets can help simulate more complex scenarios where interactions between multiple objects need to be tested. Here\u2019s how you might use FactoryBot to create a set of officers in different units or with varying attributes to test system behavior under diverse conditions:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:'FactoryBot.create_list(:officer, 5, unit: some_unit)\r\nFactoryBot.create_list(:officer, 3, rank: "Captain", active: false)\n'})}),"\n",(0,r.jsx)(t.h2,{id:"contexts",children:"Contexts"}),"\n",(0,r.jsx)(t.p,{children:"In many testing frameworks, especially in Rails with FactoryBot, you can define contexts that group these sets together to setup scenarios. You can include these contexts in your tests to set up pre-defined scenarios, allowing you to test how different parts of your application interact under varied conditions."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:'module Contexts\r\n  module Officers\r\n    def setup_officers_context\r\n      @jblake = FactoryBot.create(:officer, unit: @major_crimes)\r\n      @jgordon = FactoryBot.create(:officer, first_name: "Jim", last_name: "Gordon", rank: "Commissioner", username: "jgordon", unit: @headquarters)\r\n      # More officers...\r\n    end\r\n  end\r\nend\n'})})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var r=n(6540);const o={},s=r.createContext(o);function i(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);