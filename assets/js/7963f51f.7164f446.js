"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6956],{6203:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var i=t(4848),s=t(8453);const r={sidebar_position:5},a="APIs",o={id:"tutorial-extras/api",title:"APIs",description:"An API is a set of protocols that enable different software components to communicate",source:"@site/docs/tutorial-extras/api.md",sourceDirName:"tutorial-extras",slug:"/tutorial-extras/api",permalink:"/272_help/docs/tutorial-extras/api",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Testing",permalink:"/272_help/docs/tutorial-extras/controller-in-ruby"}},l={},c=[{value:"Why use APIs in app development?",id:"why-use-apis-in-app-development",level:3},{value:"API endpoints",id:"api-endpoints",level:3},{value:"Generating the Endpoints",id:"generating-the-endpoints",level:3},{value:"Routes",id:"routes",level:4},{value:"Controllers",id:"controllers",level:4},{value:"Serializers",id:"serializers",level:4},{value:"JSON Output",id:"json-output",level:4}];function d(e){const n={code:"code",h1:"h1",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"apis",children:"APIs"}),"\n",(0,i.jsx)(n.p,{children:"An API is a set of protocols that enable different software components to communicate\nand transfer data"}),"\n",(0,i.jsx)(n.h3,{id:"why-use-apis-in-app-development",children:"Why use APIs in app development?"}),"\n",(0,i.jsx)(n.p,{children:"\u2022 Access to diverse information sources; more interesting\nand creative apps"}),"\n",(0,i.jsx)(n.p,{children:"\u2022 Handle storage remotely, saving space on the device"}),"\n",(0,i.jsx)(n.p,{children:"\u2022 Updates to the API reflected in the app, reducing the\nneed to update the actual app (scalability)"}),"\n",(0,i.jsx)(n.p,{children:"\u2022 Allows access to IoT devices"}),"\n",(0,i.jsx)(n.p,{children:"\u2022 Improve security/governance (e.g., SSO)"}),"\n",(0,i.jsx)(n.p,{children:"\u2022 \u201cThe value of a network increases exponentially with its\nsize.\u201d"}),"\n",(0,i.jsx)(n.p,{children:"\u2022 Documenting your API and opening up your services to other developers\nand/or partners increases your exposure to the broader market and\npotentially increases revenues"}),"\n",(0,i.jsx)(n.p,{children:"\u2022 Allows you to create more dynamic apps and interfaces\nfor your own apps"}),"\n",(0,i.jsx)(n.p,{children:"\u2022 Can reduce costs by reducing repetition, streamlining\nservices"}),"\n",(0,i.jsx)(n.h3,{id:"api-endpoints",children:"API endpoints"}),"\n",(0,i.jsx)(n.p,{children:"--An API endpoint is a specific point of interaction within an API through which certain actions are performed. It acts as a bridge between the client and the server, facilitating communication and data exchange. It is important to generate these endpoints for the following reasons:"}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 ",(0,i.jsx)(n.strong,{children:"Structure and Organization"}),": Endpoints define specific operations (e.g., retrieve, create, update, delete), organizing API functionalities clearly."]}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 ",(0,i.jsx)(n.strong,{children:"Scalability"}),": With defined endpoints, APIs can be more easily scaled and optimized as demand grows."]}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 ",(0,i.jsx)(n.strong,{children:"Security"}),": Endpoints enable finer control over data access, enhancing security where sensitive data is handled."]}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 ",(0,i.jsx)(n.strong,{children:"Integration and Flexibility"}),": Specific endpoints facilitate flexible interactions between different systems, allowing them to interact with precise parts of the API."]}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 ",(0,i.jsx)(n.strong,{children:"Maintenance and Versioning"}),": Clear endpoints simplify API updates and maintenance, facilitating version control without disrupting existing users."]}),"\n",(0,i.jsx)(n.h3,{id:"generating-the-endpoints",children:"Generating the Endpoints"}),"\n",(0,i.jsx)(n.p,{children:"Creating an API endpoint in a Ruby on Rails application involves several components such as controllers, routes, serializers, and the format of the JSON output. Below, We\u2019ll explain how these components fit into the process of generating a fully functional API endpoint."}),"\n",(0,i.jsx)(n.h4,{id:"routes",children:"Routes"}),"\n",(0,i.jsx)(n.p,{children:"Routes specific URL patterns are mapped to specific controller actions. Routes are defined in the config/routes.rb file."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"Rails.application.routes.draw do\n  namespace :api do\n    namespace :v1 do\n      resources :crimes\n    end\n  end\nend\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In this example, the resources ",":crimes"," line automatically creates routes for typical CRUD (Create, Read, Update, Delete) operations for crime records. It handles standard API operations such as GET, POST, PUT, and DELETE mapped to specific actions in the CrimesController."]}),"\n",(0,i.jsx)(n.h4,{id:"controllers",children:"Controllers"}),"\n",(0,i.jsx)(n.p,{children:"Accessing a route invokes the corresponding controller action."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"module Api\n  module V1\n    class CrimesController < ApplicationController\n      def index\n        crimes = Crime.all\n        render json: CrimeSerializer.new(crimes).serialized_json\n      end\n\n      def show\n        crime = Crime.find(params[:id])\n        render json: CrimeSerializer.new(crime).serialized_json\n      end\n\n      def create\n        crime = Crime.new(crime_params)\n        if crime.save\n          render json: CrimeSerializer.new(crime).serialized_json, status: :created\n        else\n          render json: crime.errors, status: :unprocessable_entity\n        end\n      end\n\n      private\n\n      def crime_params\n        params.require(:crime).permit(:description, :date, :status)\n      end\n    end\n  end\nend\n"})}),"\n",(0,i.jsx)(n.p,{children:"In this controller, actions like index, show, and create handle different HTTP requests. They use a CrimeSerializer to format the output correctly."}),"\n",(0,i.jsx)(n.h4,{id:"serializers",children:"Serializers"}),"\n",(0,i.jsx)(n.p,{children:"Serializers format Ruby objects into JSON for API responses. They help in defining exactly which attributes of an object should be serialized. Serializers are especially using for minimizing the number of calls required to obtain certain information from the system."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"class CrimeSerializer\n  include FastJsonapi::ObjectSerializer\n  attributes :id, :description, :date, :status\nend\n"})}),"\n",(0,i.jsx)(n.p,{children:"This CrimeSerializer includes the FastJsonapi library to serialize crime objects, specifying that the id, description, date, and status attributes should be included in the JSON output."}),"\n",(0,i.jsx)(n.h4,{id:"json-output",children:"JSON Output"}),"\n",(0,i.jsx)(n.p,{children:"The JSON output is what the API returns in response to requests. It's formatted by the serializer and is the final output that client applications will consume."}),"\n",(0,i.jsx)(n.p,{children:"For a GET request to the index action in the CrimesController, the output might look like this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'{\n  "data": [\n    {\n      "id": "1",\n      "type": "crime",\n      "attributes": {\n        "description": "Theft",\n        "date": "2024-04-01",\n        "status": "solved"\n      }\n    },\n    {\n      "id": "2",\n      "type": "crime",\n      "attributes": {\n        "description": "Assault",\n        "date": "2024-04-02",\n        "status": "pending"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"This JSON is constructed by the serializer in response to a request handled by the controller, routed from the endpoint defined in routes.rb."})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);